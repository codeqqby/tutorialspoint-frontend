
# ECMAScript 变量




**请使用 var 运算符声明变量。**

**变量名需要遵守一些简单的规则。**

## 声明变量

在上一节中我们讲解过，ECMAScript 中的变量是用 var 运算符（variable 的缩写）加变量名定义的。例如：

```
var test = "hi";
```

在这个例子中，声明了变量 test，并把它的值初始化为 "hi"（字符串）。由于 ECMAScript 是_弱类型_的，所以解释程序会为 test 自动创建一个字符串值，_无需明确的类型声明_。

还可以用一个 var 语句定义两个或多个变量：

```
var test1 = "hi", test2 = "hello";
```

前面的代码定义了变量 test1，初始值为 "hi"，还定义了变量 test2，初始值为 "hello"。

不过_用同一个 var 语句定义的变量不必具有相同的类型_，如下所示：

```
var test = "hi", age = 25;
```

这个例子除了（再次）定义 test 外，还定义了 age，并把它初始化为 25。即使 test 和 age 属于两种不同的数据类型，在 ECMAScript 中这样定义也是完全合法的。

与 Java 不同，ECMAScript 中的变量并_不一定要初始化_（它们是在幕后初始化的，将在后面讨论这一点）。因此，下面这一行代码也是有效的：

```
var test;
```

此外，与 Java 不同的还有变量_可以存放不同类型的值_。这是弱类型变量的优势。例如，可以把变量初始化为字符串类型的值，之后把它设置为数字值，如下所示：

```
var test = "hi";
alert(test);
test = 55;
alert(test);

```

这段代码将毫无问题地输出字符串值和数字值。但是，如前所述，使用变量时，好的编码习惯是始终存放相同类型的值。

## 命名变量

变量名需要遵守两条简单的规则：

*   第一个字符必须是字母、下划线（_）或美元符号（$）
*   余下的字符可以是下划线、美元符号或任何字母或数字字符

下面的变量都是合法的：

```
var test;
var $test;
var $1;
var _$te$t2;

```

## 著名的变量命名规则

只是因为变量名的语法正确，并不意味着就该使用它们。变量还应遵守以下某条著名的命名规则：

### Camel 标记法

首字母是小写的，接下来的字母都以大写字符开头。例如：

```
var myTestValue = 0, mySecondValue = "hi";

```

### Pascal 标记法

首字母是大写的，接下来的字母都以大写字符开头。例如：

```
var MyTestValue = 0, MySecondValue = "hi";

```

### 匈牙利类型标记法

在以 Pascal 标记法命名的变量前附加一个小写字母（或小写字母序列），说明该变量的类型。例如，i 表示整数，s 表示字符串，如下所示“

```
var iMyTestValue = 0, sMySecondValue = "hi";

```

本教程采用了这些前缀，以使示例代码更易阅读：

| 类型 | 前缀 | 示例 |
| --- | --- |
| 数组 | a | aValues |
| 布尔型 | b | bFound |
| 浮点型（数字） | f | fValue |
| 函数 | fn | fnMethod |
| 整型（数字） | i | iValue |
| 对象 | o | oType |
| 正则表达式 | re | rePattern |
| 字符串 | s | sValue |
| 变型（可以是任何类型） | v | vValue |

## 变量声明不是必须的

ECMAScript 另一个有趣的方面（也是与大多数程序设计语言的主要区别），是在使用变量之前不必声明。例如：

```
var sTest = "hello ";
sTest2 = sTest + "world";
alert(sTest2);

```

在上面的代码中，首先，sTest 被声明为字符串类型的值 "hello"。接下来的一行，用变量 sTest2 把 sTest 与字符串 "world" 连在一起。变量 sTest2 并没有用 var 运算符定义，这里只是插入了它，就像已经声明过它一样。

ECMAScript 的解释程序遇到未声明过的标识符时，用该变量名创建一个全局变量，并将其初始化为指定的值。

这是该语言的便利之处，不过如果不能紧密跟踪变量，这样做也很危险。最好的习惯是像使用其他程序设计语言一样，总是声明所有变量。
